{% extends "layout.html" %}

{% block title %}Profile{% endblock %}

{% block content %}
<div class="main-content container mx-auto p-4 max-w-2xl">
    <div class="bg-white rounded-lg shadow p-6 mb-4">
        <div class="flex items-center space-x-4 mb-6">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" 
                 alt="User Avatar" 
                 class="w-20 h-20 rounded-full border-2 border-gray-200"
            />
            <div>
                <h1 id="userTier" class="text-2xl font-bold"></h1>
                <p id="userPoints" class="text-gray-600"></p>
            </div>
        </div>

        <div class="grid grid-cols-2 gap-4 mb-6">
            <div class="bg-gray-50 p-4 rounded">
                <h3 class="font-semibold text-gray-600">Total Spent</h3>
                <div data-stat="Total Spent" class="text-xl font-bold mt-1"></div>            </div>
            <div class="bg-gray-50 p-4 rounded">
                <h3 class="font-semibold text-gray-600">Monthly Budget</h3>
                <div data-stat="Monthly Budget" class="text-xl font-bold mt-1"></div>
            </div>
            <div class="bg-gray-50 p-4 rounded">
                <h3 class="font-semibold text-gray-600">Rewards Redeemed</h3>
                <div data-stat="Rewards Redeemed" class="text-xl font-bold mt-1">0</div>
            </div>
            <div class="bg-gray-50 p-4 rounded">
                <h3 class="font-semibold text-gray-600">Current Month</h3>
                <div data-stat="Current Month" class="text-xl font-bold mt-1"></div>
            </div>
        </div>

        <div class="mb-6">
            <h2 class="text-xl font-bold mb-4">Your Tier Benefits</h2>
            <div id="tierBenefits" class="space-y-4 mb-6">
                <!-- Benefits will be populated here -->
            </div>
            
            <div id="nextTierProgress" class="mb-6">
                <!-- Next tier progress will be shown here -->
            </div>
        </div>

        <div class="flex justify-between items-center mb-4">
            <h3 class="text-xl font-bold">Your Progress</h3>
            <a href="/badges" class="text-blue-500 hover:text-blue-700">View All Badges â†’</a>
        </div>

        <button onclick="resetGame()" class="w-full py-3 bg-red-500 text-white rounded hover:bg-red-600 transition-colors">Reset Game</button>
    </div>
</div>
{% endblock %}

{% block page_scripts %}
<script src="{{ url_for('static', filename='js/profile.js') }}"></script>
{% endblock %}